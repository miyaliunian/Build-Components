# Build Components

ä¸€ä¸ªåŸºäº pnpm workspace çš„ Vue 2 ç»„ä»¶åº“é¡¹ç›®ï¼Œæ”¯æŒæŒ‰éœ€åŠ è½½ã€‚

## é¡¹ç›®ç»“æ„

```
build-compons/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ components/      # ç»„ä»¶åº“æºç 
â”‚   â”‚   â”œâ”€â”€ src/         # ç»„ä»¶æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ lib/         # CommonJS æ„å»ºäº§ç‰©
â”‚   â”‚   â””â”€â”€ es/          # ES Module æ„å»ºäº§ç‰©
â”‚   â”œâ”€â”€ common-assets/   # å…¬å…±èµ„æºåŒ…ï¼ˆå›¾ç‰‡ã€å­—ä½“ï¼‰
â”‚   â”‚   â”œâ”€â”€ images/      # å›¾ç‰‡èµ„æº
â”‚   â”‚   â””â”€â”€ fonts/       # å­—ä½“èµ„æº
â”‚   â””â”€â”€ docs/            # ç»„ä»¶åº“æ–‡æ¡£å’Œæ¼”ç¤º
â””â”€â”€ pnpm-workspace.yaml
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. æ„å»ºç»„ä»¶åº“

```bash
cd packages/components
pnpm run build
```

æ„å»ºå®Œæˆåï¼Œä¼šç”Ÿæˆä»¥ä¸‹ç›®å½•ï¼š

- `lib/` - CommonJS æ ¼å¼ï¼Œç”¨äº Node.js ç¯å¢ƒå’Œä¸æ”¯æŒ ES Module çš„æ„å»ºå·¥å…·
- `es/` - ES Module æ ¼å¼ï¼Œæ”¯æŒ Tree Shaking

### 3. å¯åŠ¨æ–‡æ¡£é¡¹ç›®

```bash
cd packages/docs
pnpm run serve
```

## æŒ‰éœ€åŠ è½½å®ç°

æœ¬é¡¹ç›®å‚è€ƒäº† Element UI å’Œ Vant çš„å®ç°æ–¹å¼ï¼Œæ”¯æŒçœŸæ­£çš„æŒ‰éœ€åŠ è½½ã€‚

### ç‰¹ç‚¹

âœ… **å•ç‹¬æ‰“åŒ…**: æ¯ä¸ªç»„ä»¶å•ç‹¬æ‰“åŒ…æˆç‹¬ç«‹æ–‡ä»¶  
âœ… **æ ·å¼åˆ†ç¦»**: CSS ä¸ JS åˆ†ç¦»ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥  
âœ… **å¤šç§æ ¼å¼**: æ”¯æŒ CommonJS å’Œ ES Module  
âœ… **Tree Shaking**: æœªä½¿ç”¨çš„ç»„ä»¶ä¸ä¼šè¢«æ‰“åŒ…  
âœ… **çµæ´»å¼•å…¥**: æ”¯æŒå…¨é‡å¼•å…¥å’ŒæŒ‰éœ€å¼•å…¥

### ä½¿ç”¨æ–¹å¼

#### æŒ‰éœ€å¼•å…¥ï¼ˆæ¨èï¼‰

```javascript
// åªå¼•å…¥éœ€è¦çš„ç»„ä»¶
import MyButton from "@build-compons/components/lib/button";
import "@build-compons/components/lib/button/style.css";
```

#### å…¨é‡å¼•å…¥

```javascript
// å¼•å…¥æ‰€æœ‰ç»„ä»¶
import MyComponents from "@build-compons/components";
Vue.use(MyComponents);
```

#### ä½¿ç”¨ babel-plugin-importï¼ˆæœ€ä½³å®è·µï¼‰

```javascript
// é…ç½®åå¯ä»¥è¿™æ ·å†™
import { MyButton, MyDialog } from "@build-compons/components";
// è‡ªåŠ¨è½¬æ¢ä¸ºæŒ‰éœ€å¼•å…¥
```

è¯¦ç»†ä½¿ç”¨æ–¹æ³•è¯·æŸ¥çœ‹ [packages/components/README.md](./packages/components/README.md)

## æŠ€æœ¯æ ˆ

- **Vue**: 2.6.14
- **æ„å»ºå·¥å…·**: Webpack 5
- **åŒ…ç®¡ç†å™¨**: pnpm (workspace)
- **Babel**: ç”¨äºä»£ç è½¬è¯‘

## å¼€å‘æµç¨‹

1. åœ¨ `packages/components/src/components` ä¸­å¼€å‘æ–°ç»„ä»¶
2. ä¸ºç»„ä»¶æ·»åŠ ç‹¬ç«‹çš„ `index.js` å…¥å£æ–‡ä»¶
3. åœ¨ `packages/components/src/index.js` ä¸­å¯¼å‡ºæ–°ç»„ä»¶
4. è¿è¡Œæ„å»ºå‘½ä»¤æ‰“åŒ…ç»„ä»¶åº“
5. åœ¨ `packages/docs` ä¸­æµ‹è¯•å’Œæ¼”ç¤ºç»„ä»¶

## æ„å»ºåŸç†

### ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜

ä¹‹å‰ä½¿ç”¨ `vue-cli-service` æ‰“åŒ…æ•´ä¸ªåº“ï¼Œè™½ç„¶æä¾›äº†æŒ‰éœ€å¯¼å‡ºï¼Œä½†æ‰“åŒ…æ—¶ä»ä¼šæŠŠæ‰€æœ‰ç»„ä»¶æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ— æ³•å®ç°çœŸæ­£çš„æŒ‰éœ€åŠ è½½ã€‚

### ç°åœ¨çš„æ–¹å¼

å‚è€ƒ Element UI å’Œ Vant çš„å®ç°ï¼š

1. **æ¯ä¸ªç»„ä»¶å•ç‹¬æ‰“åŒ…**: ä½¿ç”¨ Webpack ä¸ºæ¯ä¸ªç»„ä»¶ç”Ÿæˆç‹¬ç«‹çš„æ–‡ä»¶
2. **ä¸»å…¥å£æ–‡ä»¶**: æä¾›å®Œæ•´çš„å…¥å£æ–‡ä»¶æ”¯æŒå…¨é‡å¼•å…¥
3. **ç»„ä»¶å…¥å£**: æ¯ä¸ªç»„ä»¶æœ‰ç‹¬ç«‹çš„å…¥å£æ–‡ä»¶æ”¯æŒæŒ‰éœ€å¼•å…¥
4. **æ ·å¼åˆ†ç¦»**: CSS æ–‡ä»¶å•ç‹¬æå–ï¼Œå¯æŒ‰éœ€å¼•å…¥

è¿™æ ·ï¼Œå½“ç”¨æˆ·åªå¼•å…¥ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œåªä¼šæ‰“åŒ…è¯¥ç»„ä»¶çš„ä»£ç ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç»„ä»¶åº“ã€‚

## Packages è¯´æ˜

### ğŸ“¦ @build-compons/components

ç»„ä»¶åº“æ ¸å¿ƒåŒ…ï¼ŒåŒ…å«æ‰€æœ‰ Vue ç»„ä»¶ã€‚

- `src/` - ç»„ä»¶æºä»£ç 
- `lib/` - CommonJS æ ¼å¼æ„å»ºäº§ç‰©
- `es/` - ES Module æ ¼å¼æ„å»ºäº§ç‰©

[æŸ¥çœ‹è¯¦æƒ…](./packages/components/README.md)

### ğŸ¨ @build-compons/common-assets

å…¬å…±èµ„æºåŒ…ï¼Œç”¨äºç®¡ç†å›¾ç‰‡ã€å­—ä½“ç­‰é™æ€èµ„æºã€‚

- `images/` - å›¾ç‰‡èµ„æºï¼ˆå›¾æ ‡ã€Logoã€èƒŒæ™¯å›¾ç­‰ï¼‰
- `fonts/` - å­—ä½“èµ„æº

[æŸ¥çœ‹è¯¦æƒ…](./packages/common-assets/README.md)

### ğŸ“š docs

æ–‡æ¡£å’Œæ¼”ç¤ºé¡¹ç›®ï¼Œç”¨äºå±•ç¤ºç»„ä»¶çš„ä½¿ç”¨æ–¹æ³•ã€‚

[åœ¨çº¿é¢„è§ˆ](http://localhost:8080)ï¼ˆè¿è¡Œ `pnpm run serve` åè®¿é—®ï¼‰

## License

ISC
